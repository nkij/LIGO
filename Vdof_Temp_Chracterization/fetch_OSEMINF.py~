from gwpy.time import Time
from gwpy.timeseries import TimeSeries
from matplotlib.ticker import MultipleLocator, FormatStrFormatter

start = Time('2014-11-30 00:00:00', format='iso', scale='utc')
end = Time('2014-12-01 00:00:00', format='iso', scale='utc')
print start.iso, start.gps
print end.iso, end.gps

LL = TimeSeries.fetch('L1:SUS-ITMY_M0_OSEMINF_LL_OUT_DQ.mean,m-trend', start, end, verbose=True)
LR = TimeSeries.fetch('L1:SUS-ITMY_M0_OSEMINF_LR_OUT_DQ.mean,m-trend', start, end, verbose=True)
UL = TimeSeries.fetch('L1:SUS-ITMY_M0_OSEMINF_UL_OUT_DQ.mean,m-trend', start, end, verbose=True)
UR = TimeSeries.fetch('L1:SUS-ITMY_M0_OSEMINF_UR_OUT_DQ.mean,m-trend', start, end, verbose=True)

print 'data fetched'

plot_LL = LL.plot()
ax = plot_LL.gca()

ax.plot(LR, label = 'L1:SUS-ITMY\_M0\_OSEMINF\_LR\_OUT\_DQ.mean')
ax.plot(UL, label = 'L1:SUS-ITMY\_M0\_OSEMINF\_UL\_OUT\_DQ.mean')
ax.plot(UR, label = 'L1:SUS-ITMY\_M0\_OSEMINF\_UR\_OUT\_DQ.mean')

ax.set_ylabel('[]')

print 'plotting'

plot_LL.show()
